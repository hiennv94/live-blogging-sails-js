// Generated by CoffeeScript 1.8.0
(function() {
  $(function() {
    $('label.timeago').timeago();
    return io.socket.on('insertEvent', function(event) {
      var $template, dateTime;
      if (event.content) {
        $template = $("#template > li");
        dateTime = new Date(event.createdAt).toLocaleString();
        $('.date', $template).html(dateTime);
        $('.content p', $template).html(event.content.replace(/\n/g, '<br />'));
        $('.timeago', $template).html(event.createdAt);
        $('.timeago', $template).attr('title', event.createdAt);
        console.log($template);
        $template.clone().hide().prependTo($('#timeline')).fadeIn(2000);
        return $('.timeago').timeago();
      }
    });
  });

}).call(this);

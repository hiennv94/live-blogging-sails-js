// Generated by CoffeeScript 1.8.0
(function() {
  module.exports = {

    /* EventsController.index() */
    index: function(req, res) {
      return res.view({
        title: 'Add new event'
      });
    },

    /* EventsController.create() */
    create: function(req, res) {
      var params;
      params = req.params.all();
      return Events.create(params).exec(function(error, event) {
        if (error && error.invalidAttributes) {
          return res.json({
            errors: MyServices.modelValidation(Events, error.invalidAttributes)
          });
        }
        sails.io.sockets.emit('insertEvent', event);
        return res.json({
          data: event
        });
      });
    }
  };

}).call(this);
